<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Phonics Review</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-primary: #1D4ED8; /* Blue-700 */
            --color-accent: #FBBF24; /* Amber-400 */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .container {
            max-width: 95%;
            margin: 0 auto;
            padding: 1rem;
        }
        .card {
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            margin-bottom: 1.5rem;
            overflow: hidden;
        }
        .header {
            background-color: var(--color-primary);
            color: white;
            padding: 1rem;
            font-size: 1.25rem;
            font-weight: 700;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.875rem;
        }
        th, td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e5e7eb;
            text-align: left;
        }
        th {
            background-color: #f9fafb;
            color: var(--color-primary);
            font-weight: 600;
            text-transform: uppercase;
        }
        tr:last-child td {
            border-bottom: none;
        }
        .key-concept {
            font-style: italic;
            color: #4b5563;
        }
        .tag {
            display: inline-block;
            background-color: #DBEAFE; /* Blue-100 */
            color: var(--color-primary);
            padding: 0.3rem 0.75rem;
            border-radius: 0.5rem;
            font-weight: 600;
            margin-right: 0.5rem;
            margin-bottom: 0.25rem;
            cursor: pointer;
            transition: all 0.15s ease-in-out;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }
        .tag:hover {
            background-color: #93C5FD; /* Blue-300 */
            transform: translateY(-1px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
        }

        /* Mobile specific adjustments */
        @media (max-width: 640px) {
            th, td {
                padding: 0.5rem 0.75rem;
            }
            .header {
                font-size: 1.1rem;
                padding: 0.75rem;
            }
            .key-concept {
                display: block;
                margin-top: 0.5rem;
                font-size: 0.8rem;
                padding-top: 0.5rem;
                border-top: 1px dashed #e5e7eb;
            }
            /* Make key columns stack/collapse slightly on small screens */
            table, thead, tbody, th, td, tr {
                display: block;
            }
            thead tr {
                position: absolute;
                top: -9999px;
                left: -9999px;
            }
            tr {
                border: 1px solid #ccc;
                margin-bottom: 0.75rem;
                border-radius: 0.5rem;
                overflow: hidden;
            }
            td {
                border: none;
                position: relative;
                padding-left: 50%; /* Space for the "label" */
                text-align: right;
            }
            td::before {
                content: attr(data-label);
                position: absolute;
                left: 0;
                width: 50%;
                padding-left: 10px;
                white-space: nowrap;
                text-align: left;
                font-weight: 600;
                color: #4b5563;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <header class="text-center py-6">
            <h1 class="text-3xl font-bold text-gray-800">Grade 3 Interactive Phonics Review</h1>
            <p class="text-gray-500 mt-1">Click any word to hear its correct pronunciation!</p>
        </header>

        <!-- Vowel Digraphs and R-Controlled Vowels -->
        <div class="card">
            <div class="header bg-yellow-600">
                1. Vowel Digraphs (Two Vowels, One Sound)
            </div>
            <table class="min-w-full">
                <thead>
                    <tr>
                        <th class="w-1/4">Pattern</th>
                        <th class="w-1/2">Words (Click to Listen)</th>
                        <th class="w-1/4">Key Concept</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td data-label="Pattern">Long E (ee, ea, ie)</td>
                        <td data-label="Words (Click to Listen)">
                            <span class="tag" onclick="speakWord(this)">peaches</span>
                            <span class="tag" onclick="speakWord(this)">agree</span>
                            <span class="tag" onclick="speakWord(this)">freezing</span>
                        </td>
                        <td data-label="Key Concept" class="key-concept">"When two vowels go walking, the first one does the talking."</td>
                    </tr>
                    <tr>
                        <td data-label="Pattern">Long O (oa, ow)</td>
                        <td data-label="Words (Click to Listen)">
                            <span class="tag" onclick="speakWord(this)">shadow</span>
                            <span class="tag" onclick="speakWord(this)">reason</span>
                            <span class="tag" onclick="speakWord(this)">pillow</span>
                            <span class="tag" onclick="speakWord(this)">roaring</span>
                            <span class="tag" onclick="speakWord(this)">board</span>
                            <span class="tag" onclick="speakWord(this)">soared</span>
                        </td>
                        <td data-label="Key Concept" class="key-concept">These two-letter combinations make the long 'O' sound.</td>
                    </tr>
                    <tr>
                        <td data-label="Pattern">Long A (ai, ay)</td>
                        <td data-label="Words (Click to Listen)">
                            <span class="tag" onclick="speakWord(this)">braided</span>
                            <span class="tag" onclick="speakWord(this)">display</span>
                        </td>
                        <td data-label="Key Concept" class="key-concept">These make the long 'A' sound. The 'ay' is often at the end of a word.</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- R-Controlled Vowels -->
        <div class="card">
            <div class="header bg-red-600">
                2. R-Controlled Vowels (The Bossy R)
            </div>
            <table class="min-w-full">
                <thead>
                    <tr>
                        <th class="w-1/4">Pattern</th>
                        <th class="w-1/2">Words (Click to Listen)</th>
                        <th class="w-1/4">Key Concept</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td data-label="Pattern">ar</td>
                        <td data-label="Words (Click to Listen)">
                            <span class="tag" onclick="speakWord(this)">target</span>
                            <span class="tag" onclick="speakWord(this)">alarm</span>
                            <span class="tag" onclick="speakWord(this)">darkness</span>
                            <span class="tag" onclick="speakWord(this)">forget</span>
                            <span class="tag" onclick="speakWord(this)">trailer</span>
                        </td>
                        <td data-label="Key Concept" class="key-concept">The 'R' makes the 'A' sound like the word *car*.</td>
                    </tr>
                    <tr>
                        <td data-label="Pattern">ore / or</td>
                        <td data-label="Words (Click to Listen)">
                            <span class="tag" onclick="speakWord(this)">before</span>
                            <span class="tag" onclick="speakWord(this)">adore</span>
                            <span class="tag" onclick="speakWord(this)">explore</span>
                            <span class="tag" onclick="speakWord(this)">Morning</span>
                            <span class="tag" onclick="speakWord(this)">format</span>
                            <span class="tag" onclick="speakWord(this)">absorb</span>
                        </td>
                        <td data-label="Key Concept" class="key-concept">The 'R' controls the vowel, making the 'O' sound like *door* or *fork*.</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Syllable Patterns -->
        <div class="card">
            <div class="header">
                3. Syllable Patterns (Where to Divide a Word)
            </div>
            <table class="min-w-full">
                <thead>
                    <tr>
                        <th class="w-1/4">Pattern</th>
                        <th class="w-1/4">Words (Click to Listen)</th>
                        <th class="w-1/2">Explanation</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td data-label="Pattern">VCV (Vowel-Consonant-Vowel)</td>
                        <td data-label="Words (Click to Listen)">
                            <span class="tag" onclick="speakWord(this)">tiger</span>
                            <span class="tag" onclick="speakWord(this)">lizard</span>
                            <span class="tag" onclick="speakWord(this)">final</span>
                            <span class="tag" onclick="speakWord(this)">focus</span>
                        </td>
                        <td data-label="Explanation" class="key-concept">**Split BEFORE the consonant.** This often leaves the first vowel **LONG** (says its name).</td>
                    </tr>
                    <tr>
                        <td data-label="Pattern">VCCV (Vowel-Consonant-Consonant-Vowel)</td>
                        <td data-label="Words (Click to Listen)">
                            <span class="tag" onclick="speakWord(this)">finish</span>
                            <span class="tag" onclick="speakWord(this)">yellow</span>
                            <span class="tag" onclick="speakWord(this)">button</span>
                        </td>
                        <td data-label="Explanation" class="key-concept">**Split BETWEEN the two consonants.** This often leaves the first vowel **SHORT** (makes its sound).</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <footer class="text-center py-4 text-sm text-gray-500">
            Click on the words to hear the sounds! (Uses your device's built-in text-to-speech)
        </footer>
    </div>

    <script>
        // Use the native browser SpeechSynthesis API, which requires no API key.
        const utterance = new SpeechSynthesisUtterance();
        utterance.lang = 'en-US';
        utterance.rate = 0.9; // Slightly slower pace for clarity in learning
        
        // Prevent rapid, overlapping speech
        let isSpeaking = false;

        function speakWord(wordElement) {
            if ('speechSynthesis' in window) {
                if (isSpeaking) {
                    window.speechSynthesis.cancel();
                }

                const word = wordElement.textContent.trim();
                
                // Set the text to be spoken
                utterance.text = word;

                utterance.onstart = () => {
                    isSpeaking = true;
                    // Provide visual feedback that the word is playing
                    wordElement.classList.add('bg-green-300', 'ring-2', 'ring-green-600', 'animate-pulse');
                    wordElement.textContent = 'ðŸ”Š ' + word;
                };

                utterance.onend = () => {
                    isSpeaking = false;
                    // Reset visual state
                    wordElement.classList.remove('bg-green-300', 'ring-2', 'ring-green-600', 'animate-pulse');
                    wordElement.textContent = word;
                };
                
                utterance.onerror = (event) => {
                    console.error("SpeechSynthesis Error:", event);
                    isSpeaking = false;
                    wordElement.classList.remove('bg-green-300', 'ring-2', 'ring-green-600', 'animate-pulse');
                    wordElement.textContent = 'âŒ Error';
                    // Revert text after a short delay
                    setTimeout(() => {
                        wordElement.textContent = word;
                    }, 1500);
                };

                window.speechSynthesis.speak(utterance);

            } else {
                // Fallback message if the browser doesn't support the API
                alert("Your browser does not support native text-to-speech. Please try a different browser like Chrome or Safari.");
            }
        }
    </script>
</body>
</html>


